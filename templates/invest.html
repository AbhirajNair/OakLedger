<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Investment Advisor - OakLedger</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <h1><a href="{{ url_for('index') }}">OakLedger</a></h1>
            <nav>
                <ul>
                    <li><a href="{{ url_for('index') }}">Home</a></li>
                    <li><a href="{{ url_for('generic') }}">Budget</a></li>
                    <li><a href="{{ url_for('goals') }}">Goals</a></li>
                    <li><a href="{{ url_for('credit') }}">Credit</a></li>
                    <li class="active"><a href="{{ url_for('invest') }}">Invest</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <section class="card">
            <h2>Investment Advisor</h2>
            <p>Get personalized investment recommendations based on your financial situation.</p>
            
            <form method="POST" action="{{ url_for('invest') }}" class="form-container">
                <div class="form-group">
                    <label for="investment_amount">Investment Amount ($):</label>
                    <input type="number" id="investment_amount" name="investment_amount" min="0" step="0.01" required>
                </div>
                
                <div class="form-group">
                    <label for="risk_tolerance">Risk Tolerance:</label>
                    <select id="risk_tolerance" name="risk_tolerance" required>
                        <option value="conservative">Conservative</option>
                        <option value="moderate" selected>Moderate</option>
                        <option value="aggressive">Aggressive</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="investment_goal">Investment Goal:</label>
                    <select id="investment_goal" name="investment_goal" required>
                        <option value="retirement">Retirement</option>
                        <option value="house">Buy a House</option>
                        <option value="education">Education</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="time_horizon">Time Horizon (years):</label>
                    <input type="number" id="time_horizon" name="time_horizon" min="1" value="10" required>
                </div>
                
                <button type="submit" class="btn btn-primary">Get Investment Advice</button>
            </form>
            
            {% if investment_advice %}
            <div class="results">
                <h3>Your Investment Recommendations</h3>
                <div class="advice-container">
                    <div class="advice-section">
                        <h4>Recommended Portfolio Allocation:</h4>
                        <ul>
                            {% for asset, percentage in investment_advice.recommended_allocation.items() %}
                                <li>{{ asset }}: {{ "%.1f"|format(percentage) }}%</li>
                            {% endfor %}
                        </ul>
                    </div>
                    
                    <div class="advice-section">
                        <h4>Expected Return:</h4>
                        <p>{{ "%.1f"|format(investment_advice.expected_return * 100) }}% annually</p>
                        
                        <h4>Risk Level:</h4>
                        <p>{{ investment_advice.risk_level|capitalize }}</p>
                        
                        {% if investment_advice.additional_notes %}
                        <h4>Additional Notes:</h4>
                        <p>{{ investment_advice.additional_notes }}</p>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endif %}
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; {{ year }} OakLedger. All rights reserved.</p>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
